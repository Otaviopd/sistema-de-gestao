<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Clube Pet - Sistema de Gest√£o</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px}
    .container{max-width:1600px;margin:0 auto;background:#fff;border-radius:20px;box-shadow:0 25px 50px rgba(0,0,0,.15);overflow:hidden}
    .header{background:linear-gradient(135deg,#ff6b6b,#ffa500);color:#fff;padding:30px;text-align:center}
    .header h1{font-size:2.2em;margin-bottom:8px;text-shadow:2px 2px 4px rgba(0,0,0,.3)}
    .tabs{display:flex;background:#f8f9fa;border-bottom:3px solid #e9ecef}
    .tab{flex:1;padding:20px;text-align:center;cursor:pointer;background:#f8f9fa;border:none;font-size:16px;font-weight:600;transition:.3s;border-bottom:3px solid transparent}
    .tab:hover{background:#e9ecef}
    .tab.active{background:#fff;border-bottom-color:#667eea;color:#667eea}
    .tab-content{display:none;padding:30px}
    .tab-content.active{display:block}
    .form-section{background:#f8f9fa;padding:25px;border-radius:15px;margin-bottom:30px;border-left:5px solid #667eea}
    .form-section h3{color:#333;margin-bottom:20px;font-size:1.35em}
    .form-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:20px}
    .form-group{display:flex;flex-direction:column}
    .form-group label{margin-bottom:8px;font-weight:600;color:#555}
    .form-group input,.form-group select,.form-group textarea{padding:12px;border:2px solid #e1e5e9;border-radius:8px;font-size:14px;transition:border-color .3s}
    .form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px rgba(102,126,234,.1)}
    .btn{padding:12px 30px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:.3s;margin:5px}
    .btn-primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}
    .btn-primary:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(102,126,234,.3)}
    .btn-success{background:linear-gradient(135deg,#56ab2f,#a8e6cf);color:#fff}
    .btn-danger{background:linear-gradient(135deg,#ff416c,#ff4b2b);color:#fff}
    .btn-neutral{background:#e9ecef;color:#2a2a2a}
    .table-container{overflow-x:auto;margin-top:20px;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,.1)}
    table{width:100%;border-collapse:collapse;background:#fff}
    th{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:15px 10px;text-align:left;font-weight:600;position:sticky;top:0}
    td{padding:12px 10px;border-bottom:1px solid #e9ecef}
    tr:nth-child(even){background:#f8f9fa}
    tr:hover{background:#e3f2fd}
    .status-badge{padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600;text-align:center}
    .status-ativo{background:#d4edda;color:#155724}
    .status-checkout{background:#f8d7da;color:#721c24}
    .status-agendado{background:#d1ecf1;color:#0c5460}
    .status-finalizado{background:#e2e3e5;color:#383d41}
    .price-display{font-size:1.2em;font-weight:bold;color:#28a745;text-align:center;padding:10px;background:#f8f9fa;border-radius:8px;margin-top:10px}
    .summary-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}
    .summary-card{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:25px;border-radius:15px;text-align:center;box-shadow:0 10px 25px rgba(102,126,234,.2)}
    .summary-card h4{font-size:1.1em;margin-bottom:10px}
    .summary-card .number{font-size:2.5em;font-weight:bold}
    .export-section{text-align:center;margin-top:30px;padding:20px;background:#f8f9fa;border-radius:10px}
    .prereq{display:flex;flex-wrap:wrap;gap:14px}
    .prereq label{display:flex;align-items:center;gap:8px}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üêæ Clube Pet ‚Äì Sistema de Gest√£o</h1>
      <p>Reservas de Hotel & Creche com or√ßamento, pr√©-requisitos e relat√≥rios</p>
    </div>

    <div class="tabs">
      <button class="tab active" data-tab="clientes" onclick="showTab(this)">üë• Clientes</button>
      <button class="tab" data-tab="pets" onclick="showTab(this)">üêï Pets</button>
      <button class="tab" data-tab="hospedagem" onclick="showTab(this)">üè® Hospedagem</button>
      <button class="tab" data-tab="creche" onclick="showTab(this)">üéØ Creche</button>
      <button class="tab" data-tab="relatorios" onclick="showTab(this)">üìä Relat√≥rios</button>
      <button class="tab" data-tab="configuracoes" onclick="showTab(this)">‚öôÔ∏è Configura√ß√µes</button>
    </div>

    <!-- CLIENTES -->
    <div id="clientes" class="tab-content active">
      <div class="form-section">
        <h3>üìù Cadastro de Clientes</h3>
        <div class="form-row">
          <div class="form-group"><label>Nome Completo *</label><input type="text" id="clienteNome" placeholder="Nome do cliente"></div>
          <div class="form-group"><label>Email</label><input type="email" id="clienteEmail" placeholder="email@exemplo.com"></div>
          <div class="form-group"><label>Telefone *</label><input type="tel" id="clienteTelefone" placeholder="(31) 99999-9999"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>CPF</label><input type="text" id="clienteCpf" placeholder="000.000.000-00"></div>
          <div class="form-group"><label>Endere√ßo</label><input type="text" id="clienteEndereco" placeholder="Rua, n√∫mero, bairro"></div>
          <div class="form-group"><label>Contato de Emerg√™ncia</label><input type="text" id="clienteEmergencia" placeholder="Nome e telefone"></div>
        </div>
        <button class="btn btn-primary" onclick="adicionarCliente()">‚ûï Adicionar Cliente</button>
      </div>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>ID</th><th>Nome</th><th>Email</th><th>Telefone</th><th>CPF</th>
              <th>Endere√ßo</th><th>Emerg√™ncia</th><th>Cadastro</th><th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="tabelaClientes"></tbody>
        </table>
      </div>
    </div>

    <!-- PETS -->
    <div id="pets" class="tab-content">
      <div class="form-section">
        <h3>üêæ Cadastro de Pets</h3>
        <div class="form-row">
          <div class="form-group">
            <label>Cliente *</label>
            <select id="petCliente"><option value="">Selecione o cliente</option></select>
          </div>
          <div class="form-group">
            <label>Nome do Pet *</label>
            <input type="text" id="petNome" placeholder="Nome do pet">
          </div>
          <div class="form-group">
            <label>Esp√©cie *</label>
            <select id="petEspecie">
              <option value="">Selecione</option>
              <option value="C√£o">C√£o</option>
              <option value="Gato">Gato</option>
              <option value="Ave">Ave</option>
              <option value="Outro">Outro</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group"><label>Ra√ßa *</label><input type="text" id="petRaca" placeholder="Ra√ßa do pet"></div>
          <div class="form-group">
            <label>Tamanho *</label>
            <select id="petTamanho">
              <option value="">Selecione</option>
              <option value="Pequeno">Pequeno (at√© 10kg)</option>
              <option value="M√©dio">M√©dio (11-25kg)</option>
              <option value="Grande">Grande (26-45kg)</option>
              <option value="Gigante">Gigante (acima de 45kg)</option>
            </select>
          </div>
          <div class="form-group"><label>Peso (kg)</label><input type="number" id="petPeso" step="0.1" placeholder="Peso em kg"></div>
        </div>

        <div class="form-row">
          <div class="form-group"><label>Idade</label><input type="text" id="petIdade" placeholder="Ex: 3 anos, 6 meses"></div>
          <div class="form-group">
            <label>Temperamento *</label>
            <select id="petTemperamento">
              <option value="">Selecione</option>
              <option value="D√≥cil">D√≥cil</option>
              <option value="Brincalh√£o">Brincalh√£o</option>
              <option value="T√≠mido">T√≠mido</option>
              <option value="Agitado">Agitado</option>
              <option value="Agressivo">Agressivo</option>
              <option value="Calmo">Calmo</option>
            </select>
          </div>
          <div class="form-group">
            <label>Castrado</label>
            <select id="petCastrado">
              <option value="Sim">Sim</option>
              <option value="N√£o">N√£o</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group"><label>Medicamentos</label><textarea id="petMedicamentos" rows="3" placeholder="Descreva medicamentos, dosagem e hor√°rios"></textarea></div>
          <div class="form-group"><label>N¬∫ do Cart√£o de Vacinas *</label><input type="text" id="petCartaoVacinaNumero" placeholder="Ex.: 12345-ABC"></div>
          <div class="form-group"><label>Observa√ß√µes Especiais</label><textarea id="petObservacoes" rows="3" placeholder="Alergias, comportamentos especiais, etc."></textarea></div>
        </div>

        <button class="btn btn-primary" onclick="adicionarPet()">‚ûï Adicionar Pet</button>
      </div>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>ID</th><th>Cliente</th><th>Nome</th><th>Esp√©cie</th><th>Ra√ßa</th>
              <th>Tamanho</th><th>Peso</th><th>Temperamento</th><th>Cart√£o Vac.</th><th>Medic.</th><th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="tabelaPets"></tbody>
        </table>
      </div>
    </div>

    <!-- HOSPEDAGEM -->
    <div id="hospedagem" class="tab-content">
      <div class="form-section">
        <h3>üè® Nova Hospedagem</h3>
        <div class="form-row">
          <div class="form-group"><label>Pet *</label><select id="hospedagemPet"><option value="">Selecione o pet</option></select></div>
          <div class="form-group"><label>Data Check-in *</label><input type="date" id="hospedagemCheckin"></div>
          <div class="form-group"><label>Data Check-out *</label><input type="date" id="hospedagemCheckout"></div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Servi√ßos Extras</label>
            <div style="display:flex;flex-wrap:wrap;gap:10px;margin-top:8px;">
              <label><input type="checkbox" id="servicoBanho"> Banho (+R$ 30)</label>
              <label><input type="checkbox" id="servicoConsultaVet"> Consulta Veterin√°ria (+R$ 80)</label>
              <label><input type="checkbox" id="servicoTransporte"> Transporte (+R$ 20)</label>
            </div>
          </div>
          <div class="form-group">
            <label>Pr√©-requisitos (obrigat√≥rios)</label>
            <div class="prereq">
              <label><input type="checkbox" id="prereqVacina"> Cart√£o de vacinas v√°lido</label>
              <label><input type="checkbox" id="prereqPulga"> Coleira/antipulgas</label>
              <label><input type="checkbox" id="prereqCaminha"> Caminha pr√≥pria</label>
              <label><input type="checkbox" id="prereqComida"> Comida (ra√ß√£o)</label>
            </div>
          </div>
        </div>

        <div class="price-display" id="precoHospedagem">üí∞ Valor Total: R$ 0,00</div>
        <div>
          <button class="btn btn-neutral" onclick="gerarOrcamentoHospedagem()">üßæ Gerar Or√ßamento (PDF)</button>
          <button class="btn btn-success" onclick="adicionarHospedagem()">‚úÖ Confirmar Hospedagem</button>
        </div>
      </div>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>ID</th><th>Pet</th><th>Cliente</th><th>Check-in</th><th>Check-out</th>
              <th>Dias</th><th>Servi√ßos</th><th>Total</th><th>Status</th><th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="tabelaHospedagem"></tbody>
        </table>
      </div>
    </div>

    <!-- CRECHE -->
    <div id="creche" class="tab-content">
      <div class="form-section">
        <h3>üéØ Nova Sess√£o de Creche</h3>
        <div class="form-row">
          <div class="form-group"><label>Pet *</label><select id="crechePet"><option value="">Selecione o pet</option></select></div>
          <div class="form-group"><label>Data *</label><input type="date" id="crecheData"></div>
          <div class="form-group">
            <label>Per√≠odo *</label>
            <select id="crechePeriodo">
              <option value="">Selecione</option>
              <option value="Meio per√≠odo">Meio per√≠odo (4h)</option>
              <option value="Per√≠odo integral">Per√≠odo integral (8h)</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Plano</label>
            <select id="crechePlano">
              <option value="avulso">Avulso</option>
              <option value="semanal">Semanal</option>
              <option value="mensal">Mensal</option>
            </select>
          </div>
          <div class="form-group"><label>Hor√°rio Entrada</label><input type="time" id="crecheEntrada"></div>
          <div class="form-group"><label>Hor√°rio Sa√≠da</label><input type="time" id="crecheSaida"></div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Atividades Extras</label>
            <div style="display:flex;flex-wrap:wrap;gap:10px;margin-top:8px;">
              <label><input type="checkbox" id="atividadeAdaptacao"> Adapta√ß√£o (+R$ 15)</label>
              <label><input type="checkbox" id="atividadeTreinamento"> Treinamento (+R$ 25)</label>
            </div>
          </div>
          <div class="form-group">
            <label>Pr√©-requisitos (obrigat√≥rios)</label>
            <div class="prereq">
              <label><input type="checkbox" id="prereqVacinaC"> Cart√£o de vacinas v√°lido</label>
              <label><input type="checkbox" id="prereqPulgaC"> Coleira/antipulgas</label>
              <label><input type="checkbox" id="prereqComidaC"> Comida (ra√ß√£o)</label>
            </div>
          </div>
        </div>

        <div class="price-display" id="precoCreche">üí∞ Valor Total: R$ 0,00</div>
        <div>
          <button class="btn btn-neutral" onclick="gerarOrcamentoCreche()">üßæ Gerar Or√ßamento (PDF)</button>
          <button class="btn btn-success" onclick="adicionarCreche()">‚úÖ Confirmar Creche</button>
        </div>
      </div>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>ID</th><th>Pet</th><th>Cliente</th><th>Data</th><th>Per√≠odo</th>
              <th>Plano</th><th>Entrada</th><th>Sa√≠da</th><th>Atividades</th><th>Total</th><th>Status</th><th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="tabelaCreche"></tbody>
        </table>
      </div>
    </div>

    <!-- RELAT√ìRIOS -->
    <div id="relatorios" class="tab-content">
      <div class="summary-cards">
        <div class="summary-card"><h4>Total Clientes</h4><div class="number" id="totalClientes">0</div></div>
        <div class="summary-card"><h4>Total Pets</h4><div class="number" id="totalPets">0</div></div>
        <div class="summary-card"><h4>Hospedagens Ativas</h4><div class="number" id="hospedagensAtivas">0</div></div>
        <div class="summary-card"><h4>Faturamento Mensal</h4><div class="number" id="faturamentoMensal">R$ 0</div></div>
      </div>

      <div class="form-section">
        <h3>üìà Relat√≥rio Financeiro</h3>
        <div class="form-row">
          <div class="form-group">
            <label>Per√≠odo</label>
            <select id="relatorioPeriodo">
              <option value="mes">Este m√™s</option>
              <option value="semana">Esta semana</option>
              <option value="hoje">Hoje</option>
              <option value="personalizado">Personalizado</option>
            </select>
          </div>
          <div class="form-group"><label>Data In√≠cio (se personalizado)</label><input type="date" id="relatorioInicio"></div>
          <div class="form-group"><label>Data Fim (se personalizado)</label><input type="date" id="relatorioFim"></div>
        </div>
        <button class="btn btn-primary" onclick="gerarRelatorio()">üìä Gerar Relat√≥rio</button>
      </div>

      <div id="relatorioResultado" style="display:none;">
        <div class="table-container">
          <table>
            <thead><tr><th>Servi√ßo</th><th>Quantidade</th><th>Receita Total</th></tr></thead>
            <tbody id="tabelaRelatorio"></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- CONFIGURA√á√ïES -->
    <div id="configuracoes" class="tab-content">
      <div class="form-section">
        <h3>üí∞ Configura√ß√£o de Pre√ßos</h3>
        <div class="form-row">
          <div class="form-group"><label>Hospedagem - Pequeno (di√°ria)</label><input type="number" id="precoHospedagemPequeno" value="80" step="0.01"></div>
          <div class="form-group"><label>Hospedagem - M√©dio (di√°ria)</label><input type="number" id="precoHospedagemMedio" value="100" step="0.01"></div>
          <div class="form-group"><label>Hospedagem - Grande (di√°ria)</label><input type="number" id="precoHospedagemGrande" value="120" step="0.01"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>Hospedagem - Gigante (di√°ria)</label><input type="number" id="precoHospedagemGigante" value="150" step="0.01"></div>
          <div class="form-group"><label>Creche - Meio per√≠odo (dia)</label><input type="number" id="precoCrecheMeio" value="50" step="0.01"></div>
          <div class="form-group"><label>Creche - Per√≠odo integral (dia)</label><input type="number" id="precoCrecheIntegral" value="80" step="0.01"></div>
        </div>

        <h3 style="margin-top:30px;">üóìÔ∏è Planos da Creche</h3>
        <div class="form-row">
          <div class="form-group"><label>Dias por Plano Semanal</label><input type="number" id="crecheDiasSemanal" value="5" step="1" min="1"></div>
          <div class="form-group"><label>Dias por Plano Mensal</label><input type="number" id="crecheDiasMensal" value="22" step="1" min="1"></div>
        <div class="form-row">
  <div class="form-group">
    <label>Desconto Semanal (%)</label>
    <input type="number" id="descontoSemanal" value="0" step="0.01" min="0" max="100">
  </div>
  <div class="form-group">
    <label>Desconto Mensal (%)</label>
    <input type="number" id="descontoMensal" value="0" step="0.01" min="0" max="100">
  </div>
        </div>

        <h3 style="margin-top:30px;">üè∑Ô∏è Extras</h3>
        <div class="form-row">
          <div class="form-group"><label>Banho (R$)</label><input type="number" id="extraBanho" value="30" step="0.01"></div>
          <div class="form-group"><label>Consulta Veterin√°ria (R$)</label><input type="number" id="extraConsulta" value="80" step="0.01"></div>
          <div class="form-group"><label>Transporte (R$)</label><input type="number" id="extraTransporte" value="20" step="0.01"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label>Adapta√ß√£o (R$)</label><input type="number" id="extraAdaptacao" value="15" step="0.01"></div>
          <div class="form-group"><label>Treinamento (R$)</label><input type="number" id="extraTreinamento" value="25" step="0.01"></div>
        </div>

        <button class="btn btn-success" onclick="salvarConfiguracoes()">üíæ Salvar Configura√ß√µes</button>
      </div>

      <div class="export-section">
        <h3>üì• Exportar Dados</h3>
        <p>CSV compat√≠vel com Excel (PT-BR)</p>
        <button class="btn btn-primary" onclick="exportarExcel()">üìä Exportar para Excel (CSV)</button>
        <button class="btn btn-primary" onclick="exportarRelatorio()">üìã Exportar Relat√≥rio Completo (TXT)</button>
      </div>
    </div>
  </div>

  <!-- Carrega o JS externo -->
<!-- 1) ExcelJS (obrigat√≥rio) -->
<!-- 1) ExcelJS (com fallback) -->
<script src="https://cdn.jsdelivr.net/npm/exceljs@4.4.0/dist/exceljs.min.js"></script>
<script>
  if (!window.ExcelJS) {
    var s = document.createElement('script');
    s.src = 'https://unpkg.com/exceljs@4.4.0/dist/exceljs.min.js';
    document.head.appendChild(s);
  }
</script>

<!-- 2) FileSaver -->
<script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>

<!-- 3) Seu script (deve vir por √∫ltimo) -->
<script src="app.js"></script>


</body>
</html>

